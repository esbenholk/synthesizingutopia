(()=>{var e={};e.id=931,e.ids=[931],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12184:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c}),s(35480),s(32029),s(35866);var a=s(23191),o=s(88716),l=s(37922),n=s.n(l),i=s(95231),r={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(r[e]=()=>i[e]);s.d(t,r);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,35480)),"D:\\SynthesizingUtopias\\project\\src\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,32029)),"D:\\SynthesizingUtopias\\project\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],d=["D:\\SynthesizingUtopias\\project\\src\\app\\page.tsx"],u="/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},14083:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,12994,23)),Promise.resolve().then(s.t.bind(s,96114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,79671,23)),Promise.resolve().then(s.t.bind(s,41868,23)),Promise.resolve().then(s.t.bind(s,84759,23))},81523:(e,t,s)=>{Promise.resolve().then(s.bind(s,80398))},35303:()=>{},80398:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var a=s(10326),o=s(17577);s(89752);let l=({url:e,title:t})=>(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{children:a.jsx("img",{src:e,alt:t})}),a.jsx("div",{className:"Info",children:a.jsx("p",{children:t})})]});function n({news:e}){return a.jsx(a.Fragment,{children:e.length>0&&a.jsx(a.Fragment,{children:e.map((e,t)=>a.jsx("div",{className:"Card",children:a.jsx(l,{url:e.url,title:e.title})},t))})})}function i(){let[e,t]=(0,o.useState)(null),[s,l]=(0,o.useState)(""),[i,r]=(0,o.useState)(!1),[c,d]=(0,o.useState)(!1),[u,m]=(0,o.useState)(!1),[p,g]=(0,o.useState)(!1),[h,x]=(0,o.useState)(null),[j,v]=(0,o.useState)([]),[f,y]=(0,o.useState)(""),[b,N]=(0,o.useState)(!1),[w,k]=(0,o.useState)(!1),[P,S]=(0,o.useState)(""),[C,_]=(0,o.useState)([]),[U,F]=(0,o.useState)(0),D=async()=>{k(!0);try{let e=await fetch(`/api/cloudinary/recent?skip=${U}limit=10`),t=await e.json();if(console.log("has images",t,t.length),t){for(let e=0;e<t.length;e++){let s=t[e],a={title:s.title,url:s.url};C.push(a)}_(C),F(U+10)}else k(!1)}catch(e){S(e instanceof Error?e.message:"Failed to fetch recent images")}finally{k(!1)}},G=(e=1500)=>{N(!0),setTimeout(()=>{N(!1)},e)},q=e=>e.join(", "),E=async()=>{if(r(!0),""!=s||j.length>0)try{let e=await fetch(`/api/generateImage?prompt=${encodeURIComponent(s||"utopias")}&adjectives=${encodeURIComponent(q(j)||"")}`),a=await e.json();if(console.log("data from gen",a),!e.ok)throw Error(a.error||"Generation failed");t(null),x(a.imageUrl),l(a.sentence)}catch(e){}finally{r(!1)}else S("wizard, u need to declare the generation"),r(!1)},z=async e=>{try{d(!0),console.log("uploads image file",e,s);let t=await fetch("/api/cloudinary/upload",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:e,sentence:s||"utopias",alt:s||"utopias",title:s||"utopias",tags:q(j)})});if(!t.ok){let e=await t.json();throw console.log("fails upload to cloud",e),d(!1),Error(e.error||"Upload failed")}C.push({title:s,url:e}),_(C),console.log(C)}catch(e){console.log("fails upload to cloud",e),d(!1)}finally{console.log("ends upload to cloud"),r(!1),d(!1),m(!1),G(),t(null),x(null)}},B=e=>{v(j.filter((t,s)=>s!==e))},I=async t=>{t.preventDefault(),r(!0),console.log("tries to submit image",e),e?z(e):h?z(h):console.log("make error message")};return(0,a.jsxs)("div",{className:"brew-container",children:[a.jsx("video",{className:p?"couldron openCouldronVideo":"couldron",src:"https://res.cloudinary.com/dmwpm8iiw/video/upload/v1741863927/loopcouldron_svu0rw.mp4",autoPlay:!0,loop:!0,muted:!0,playsInline:!0}),(0,a.jsxs)("div",{className:"GalleryContainer",children:[a.jsx(n,{news:C}),a.jsx("button",{disabled:w,onClick:()=>{D()},className:"Button Loadmore",children:w?"expanding...":"Get more utopias"})]}),(0,a.jsxs)("div",{className:"buttons",children:[a.jsx("button",{className:`btn ${u?"lil":""}`,onClick:()=>{console.log("check error1",P),p?(g(!1),setTimeout(()=>{m(!0)},4e3)):m(!u),console.log("check error2",P)},children:"add vision"}),a.jsx("button",{className:`btn ${u?"lil":""}`,onClick:()=>g(!p),children:"explore visions"})]}),a.jsx("img",{className:p?"overlay openCouldron":"overlay",src:"https://res.cloudinary.com/dmwpm8iiw/image/upload/v1741865808/couldronoverlay_bg8osp.png"}),a.jsx("div",{className:"desktopborder1"}),a.jsx("div",{className:"desktopborder2"}),u&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"gooey-container",children:a.jsx("div",{className:c?"shrinkgoo gooey":" gooey"})})}),u&&(0,a.jsxs)(a.Fragment,{children:[""!=P&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"errorMessage",onClick:()=>{S(""),r(!1)},children:a.jsx("p",{children:P})})}),(0,a.jsxs)("form",{onSubmit:I,className:c?"uploading uploader":"uploader",children:[a.jsx("button",{className:"closebtn",onClick:()=>m(!1),children:" X "}),(0,a.jsxs)("div",{className:""!=P?"textinputs error":"textinputs",children:[a.jsx("textarea",{id:"text",value:s,onChange:e=>l(e.target.value),placeholder:"in my utopia there is..."}),a.jsx("input",{type:"text",value:f,onChange:e=>y(e.target.value),onKeyDown:e=>{" "===e.key&&(e.preventDefault(),f.trim()&&(v([...j,f.trim()]),y("")))},className:"mt-2 p-2 border rounded-md",placeholder:"or add some adjectives"}),a.jsx("div",{className:"flex-row-wrap adjButtons",children:j.map((e,t)=>(0,a.jsxs)("button",{onClick:()=>B(t),className:"adjBtn",children:[e," âœ–"]},t))})]}),a.jsx("div",{className:"imageResult",children:i?a.jsx(a.Fragment,{children:a.jsx("img",{src:"https://res.cloudinary.com/dmwpm8iiw/image/upload/v1742059296/brewing_ruxhpm.gif"})}):e?(0,a.jsxs)("div",{children:[a.jsx("button",{className:"closebtn",onClick:()=>t(null),children:" X "}),a.jsx("img",{src:e,alt:"Preview",className:"subImage"})]}):h?(0,a.jsxs)("div",{children:[a.jsx("button",{className:"closebtn",onClick:()=>x(null),children:" X "}),a.jsx("img",{src:h,alt:"Generated",className:"w-full rounded-lg"})]}):null}),(0,a.jsxs)("div",{className:"uploaderButtons",children:[a.jsx("label",{htmlFor:"image-upload",className:i?"imgUploadBtn passive":"imgUploadBtn active",children:e?"change":"upload"}),a.jsx("input",{id:"image-upload",type:"file",accept:"image/*",onChange:e=>{let s=e.target.files?.[0];if(s){let e=new FileReader;e.onloadend=()=>{t(e.result)},e.readAsDataURL(s)}},className:"sr-only"}),a.jsx("button",{disabled:i,className:i?"passive":"active",onClick:()=>E(),children:h?"regenerate":"generate"})]}),a.jsx("button",{type:"submit",className:i?"passive":h?"active":e?"active":"passive",children:i?"loading content":a.jsx(a.Fragment,{children:"poor into couldron"})})]})]}),b&&(0,a.jsxs)("div",{className:"success",children:[a.jsx("img",{src:"https://res.cloudinary.com/dmwpm8iiw/image/upload/v1742061490/giphy_knfko7.gif"}),a.jsx("p",{children:"*sympoetic thanx u*"})]})]})}function r(){let[e,t]=(0,o.useState)(0);return(0,a.jsxs)("main",{className:"dont look under the hood",children:[a.jsx("img",{className:"logo",style:{maxWidth:e-50},src:"https://res.cloudinary.com/dmwpm8iiw/image/upload/v1741868576/logo_efs6jc.gif"}),a.jsx(i,{})]})}},32029:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l,metadata:()=>o});var a=s(19510);let o={title:"Synthesizing Utopias",description:"imaging collective futures since 2476"};function l({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{children:e})})}},35480:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(68570).createProxy)(String.raw`D:\SynthesizingUtopias\project\src\app\page.tsx#default`)},89752:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[276,471],()=>s(12184));module.exports=a})();